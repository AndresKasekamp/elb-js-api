import{cC as q,a8 as u,bz as $,bx as R,cD as b,cE as j,cF as v,cG as x,cH as y,cI as A,cJ as F,cK as W,cL as Z}from"./index-pCX-0tJH.js";import{i as w}from"./measurementUtils-69EiqRp6.js";function J(t,s=m()){return d(t,s)}function K(t,s=m()){return d(t,s,!1)}function d(t,s,e=t.hasZ){const c=w(t.spatialReference),l=q(c);if(l==null)return null;const C=(i,r)=>!(r.length<2)&&($(i,r[0],r[1],e&&r[2]||0),!0);let h=0;for(const i of t.rings){const r=i.length;if(r<3)continue;const{positionsWorldCoords:o}=s;for(;o.length<r;)o.push(u());const g=z,a=$(D,0,0,0),k=1/r;for(let n=0;n<r;n++){if(!C(g,i[n])||!R(g,t.spatialReference,o[n],c))return null;b(a,a,o[n],k)}const p=j(o[0],o[1],a,v());if(x(y(p))===0)continue;for(let n=0;n<r;n++)A(p,a,o[n],o[n]);const f=E(o);for(let n=0;n<f.length;n+=3)h+=F(o[f[n]],o[f[n+1]],o[f[n+2]])}return W(h,l)}const z=u(),D=u();function m(){return{positionsWorldCoords:[]}}function E(t){return Z(G(t),[],2)}function G(t){const s=new Float64Array(2*t.length);for(let e=0;e<t.length;++e){const c=t[e],l=2*e;s[l]=c[0],s[l+1]=c[1]}return s}export{E as U,J as g,K as h,m as k};
