import{r as c,he as y,dL as r,hf as h,hg as i,hh as m,ar as b,au as f,hi as p,hj as w,hk as d,hl as g,hm as $}from"./index-pCX-0tJH.js";async function D(a,t,e){if(!a.name)throw new c("style-symbol-reference-name-missing","Missing name in style symbol reference");if(a.styleName&&a.styleName==="Esri2DPointSymbolsStyle")return j(a,e);try{return N(await y(a,t,e),a.name,t,e)}catch(n){return r(n),null}}async function j(a,t){const e=h.replaceAll(/\{SymbolName\}/gi,a.name);try{const n=await i(e,t);return m(n.data)}catch(n){return r(n),null}}async function N(a,t,e,n){const u={portal:(e==null?void 0:e.portal)!=null?e.portal:b.getDefault(),url:f(a.baseUrl),origin:"portal-item"},o=p(t,a.data);if(!o)throw new c("symbolstyleutils:symbol-name-not-found",`The symbol name '${t}' could not be found`,{symbolName:t});let s=w(d(o,"cimRef"),u);g()&&(s=$(s));try{const l=await i(s,n);return m(l.data)}catch(l){return r(l),null}}export{D as fetchCIMSymbolReference};
